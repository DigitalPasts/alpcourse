---
title: "Schedule"
execute:
  echo: false
---

```{python}
import pandas as pd
import markdown
from IPython.display import HTML, display

# Read the schedule CSV (path relative to the project root)
df = pd.read_csv('data/schedule.csv')

def md_to_html(text):
    if pd.isna(text) or str(text).strip() == '':
        return ''
    # convert markdown to HTML (extensions=['extra'] supports lists/tables)
    return markdown.markdown(str(text), extensions=['extra'])

# Convert Markdown in these columns to HTML so the HTML is rendered in Quarto
for col in ['Assignment', 'Materials']:
    if col in df.columns:
        df[col] = df[col].fillna('').apply(md_to_html)

# Render one table per Unit
for unit in df['Unit'].unique():
    display(HTML(f"<h2>{unit}</h2>"))
    sub = df[df['Unit'] == unit][['Date','Topic','Assignment','Materials']]
    html = sub.to_html(index=False, escape=False, classes='schedule-table')
    display(HTML(html))
```
